---
import IconWordCounter from "@/assets/icons/IconWordCounter.svg";
import { calculateReadingTime } from "@/utils/calculateReadingTime"

export interface Props {
  class?: string;
  size?: "sm" | "lg";
  wordCounterResult?: number | null;
}

const {
  size = "sm",
  class: className = "",
  wordCounterResult = "",
} = Astro.props;
---

<div class:list={["flex items-center gap-x-2 opacity-80", className]}>
  <IconWordCounter
    class:list={[
      "inline-block size-5.5 min-w-[1.375rem]",
      { "scale-90": size === "sm" },
    ]}
  />
  <span class:list={["text-sm", { "sm:text-base": size === "lg" }]}>
    字数:
  </span>
  <div class:list={["text-sm", { "sm:text-base": size === "lg" }]}>
    {wordCounterResult == null ? 0 : wordCounterResult}
  </div>
  <span class:list={["text-sm", { "sm:text-base": size === "lg" }]}>
    阅读时长：
  </span>
  <div class:list={["text-sm", { "sm:text-base": size === "lg" }]}>
    {calculateReadingTime(parseInt(wordCounterResult == null ? "0" : String(wordCounterResult)))}
  </div>
</div>
